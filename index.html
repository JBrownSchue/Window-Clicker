<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fenster Clicker üñ±Ô∏è MAXIMUM CHAOS</title>
    <style>
        /* --- CSS f√ºr das Aussehen --- */
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');

        :root {
            --primary-color: #007bff;
            --secondary-color: #f8f9fa;
            --background-color: #e9ecef;
            --dark-text: #212529;
            --light-text: #ffffff;
            --shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
            --border-radius: 12px;
            --red-alert: #dc3545;
            --gold-shine: #ffc107;
        }

        body {
            font-family: 'Poppins', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background-color: var(--background-color);
            color: var(--dark-text);
            user-select: none; /* Verhindert das Markieren von Text beim Klicken */
            overflow: hidden; /* Verhindert Scrollbalken durch Partikel */
        }

        #video-background-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            pointer-events: none;
        }

        .subway-surfer-gif {
            position: absolute;
            width: 300px; /* Breite des GIFs */
            height: 500px; /* H√∂he des GIFs */
            background-size: cover;
            background-position: center;
            border-radius: 15px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
            opacity: 0.3; /* Leichte Transparenz */
        }

        #game-container {
            display: flex;
            gap: 30px;
            padding: 30px;
            background: rgba(248, 249, 250, 0.9); /* Leichter Durchschein-Effekt */
            backdrop-filter: blur(5px);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            width: 900px;
            position: relative;
            z-index: 10;
        }

        #click-section {
            flex-basis: 40%;
            text-align: center;
        }

        #upgrade-section {
            flex-basis: 60%;
            display: flex;
            flex-direction: column;
            gap: 12px;
            max-height: 70vh;
            overflow-y: auto;
            padding-right: 5px;
        }
        
        #upgrade-section::-webkit-scrollbar { width: 8px; }
        #upgrade-section::-webkit-scrollbar-track { background: #f1f1f1; border-radius: 10px; }
        #upgrade-section::-webkit-scrollbar-thumb { background: var(--primary-color); border-radius: 10px; }
        #upgrade-section::-webkit-scrollbar-thumb:hover { background: #0056b3; }

        h1, h2 {
            margin-top: 0;
            color: var(--primary-color);
        }

        #stats-container {
            margin-bottom: 20px;
            font-size: 1.6em;
            font-weight: 600;
        }
        
        #cps-display {
            font-size: 0.7em;
            color: #6c757d;
        }

        #clickable-window {
            width: 250px;
            height: 250px;
            background: linear-gradient(135deg, #89cff0, #4682b4);
            border: 5px solid #ffffff;
            border-radius: var(--border-radius);
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 5em;
            box-shadow: var(--shadow);
            transition: transform 0.1s ease-out, box-shadow 0.1s ease-out;
            margin: 0 auto;
        }

        #clickable-window:active {
            transform: scale(0.95);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
        }
        
        .click-feedback {
            position: absolute;
            font-size: 1.5em;
            font-weight: bold;
            color: var(--primary-color);
            pointer-events: none;
            animation: fade-up 0.7s ease-out forwards;
            z-index: 100;
            white-space: nowrap;
        }

        @keyframes fade-up {
            from { opacity: 1; transform: translateY(0); }
            to { opacity: 0; transform: translateY(-50px); }
        }

        .upgrade-button {
            padding: 12px 15px;
            background-color: var(--primary-color);
            color: var(--light-text);
            border: none;
            border-radius: var(--border-radius);
            font-size: 1em;
            font-family: 'Poppins', sans-serif;
            cursor: pointer;
            transition: background-color 0.2s, transform 0.1s;
            text-align: left;
            line-height: 1.3;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .upgrade-button:hover:not(:disabled) {
            background-color: #0056b3;
            transform: translateY(-2px);
        }

        .upgrade-button:disabled {
            background-color: #6c757d;
            cursor: not-allowed;
            opacity: 0.7;
        }
        
        .upgrade-button .title { font-weight: 600; font-size: 1.1em; }
        .upgrade-button .level { font-size: 0.8em; opacity: 0.9; margin-bottom: 5px; }
        .upgrade-button .description { font-size: 0.9em; opacity: 0.9; margin-bottom: 5px; }
        .upgrade-button .cost { font-weight: 600; color: var(--gold-shine); text-shadow: 0 0 5px rgba(255, 193, 7, 0.5); }

        #chaos-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            pointer-events: none;
            z-index: 5;
        }
        
        .milestone-text {
            position: absolute;
            font-family: 'Poppins', sans-serif;
            font-weight: bold;
            color: var(--red-alert);
            animation: text-float-permanent 10s ease-in-out infinite alternate;
            pointer-events: none;
            z-index: 50;
            white-space: nowrap;
            text-shadow: 0 0 10px rgba(220, 53, 69, 0.7);
        }

        @keyframes text-float-permanent {
            0% { transform: translateY(0px) rotate(-5deg); }
            100% { transform: translateY(20px) rotate(5deg); }
        }
        
    </style>
</head>
<body>
    <div id="video-background-container"></div>
    <div id="game-container">
        <div id="click-section">
            <h1>Fenster Clicker</h1>
            <div id="stats-container">
                <span id="click-count">0</span> Klicks
                <div id="cps-display">0 CPS</div>
            </div>
            <div id="clickable-window" title="Klick mich f√ºr Klicks und Chaos!">
                üí•
            </div>
        </div>

        <div id="upgrade-section">
            <h2>Upgrades</h2>
            
            <button id="upgrade-cursor-btn" class="upgrade-button">
                <span class="title">St√§rkerer Mauszeiger</span>
                <span class="level">Level: 0</span>
                <span class="description">Erh√∂ht Klicks pro Klick um 1.</span>
                <span class="cost">Kosten: 10 Klicks</span>
            </button>
            
            <button id="upgrade-window-opt-btn" class="upgrade-button">
                <span class="title">Fenster-Optimierung</span>
                <span class="level">Level: 0</span>
                <span class="description">Erh√∂ht Klicks pro Klick um 5.</span>
                <span class="cost">Kosten: 100 Klicks</span>
            </button>

            <button id="upgrade-autoclick-btn" class="upgrade-button">
                <span class="title">Auto-Klicker Bot</span>
                <span class="level">Level: 0</span>
                <span class="description">Generiert +1 Klick pro Sekunde.</span>
                <span class="cost">Kosten: 25 Klicks</span>
            </button>
            
            <button id="upgrade-click-magnet-btn" class="upgrade-button">
                <span class="title">Klick-Magnet</span>
                <span class="level">Level: 0</span>
                <span class="description">F√ºgt +1 CPS pro Klick-St√§rke hinzu.</span>
                <span class="cost">Kosten: 500 Klicks</span>
            </button>

            <button id="upgrade-factory-btn" class="upgrade-button">
                <span class="title">Klick-Fabrik</span>
                <span class="level">Level: 0</span>
                <span class="description">Generiert +10 CPS.</span>
                <span class="cost">Kosten: 500 Klicks</span>
            </button>
            
            <button id="upgrade-global-dominance-btn" class="upgrade-button">
                <span class="title">Globale Klick-Dominanz</span>
                <span class="level">Level: 0</span>
                <span class="description">Generiert +50 CPS. Extrem teuer!</span>
                <span class="cost">Kosten: 10000 Klicks</span>
            </button>
        </div>
    </div>
    
    <canvas id="chaos-canvas"></canvas> 
<script>
        // 1. Spielzustand
        let clicks = 0;
        let clicksPerClick = 1;
        let clicksPerSecond = 0;
        let subwaySurfersSpawned = 0;

        const upgrades = {
            cursor: { level: 0, cost: 10, baseCost: 10, bonus: 1, costMultiplier: 1.15, description: 'Erh√∂ht Klicks pro Klick um 1.' },
            windowOptimization: { level: 0, cost: 100, baseCost: 100, bonus: 5, costMultiplier: 1.25, description: 'Erh√∂ht Klicks pro Klick um 5.' },
            autoclicker: { level: 0, cost: 25, baseCost: 25, bonus: 1, costMultiplier: 1.20, description: 'Generiert +1 CPS.' },
            clickMagnet: { level: 0, cost: 500, baseCost: 500, bonus: 1, costMultiplier: 1.3, description: 'F√ºgt +1 CPS pro Klick-St√§rke hinzu.' },
            factory: { level: 0, cost: 500, baseCost: 500, bonus: 10, costMultiplier: 1.25, description: 'Generiert +10 CPS.' },
            globalDominance: { level: 0, cost: 10000, baseCost: 10000, bonus: 50, costMultiplier: 1.4, description: 'Generiert +50 CPS. Extrem teuer!' }
        };

        const milestones = [
            { threshold: 100, activated: false, effect: () => triggerParticleBurst('red', 50, 10) },
            { threshold: 1000, activated: false, effect: () => {
                triggerParticleBurst('gold', 100, 20); 
                spawnFloatingText('1.000 Klicks! Wahnsinn!', 'green', 30);
                activateColorShift(document.body, '#f0f8ff', '#e0f0ff');
            }},
            { threshold: 10000, activated: false, effect: () => {
                triggerParticleBurst('purple', 200, 30); 
                spawnFloatingText('10.000 Klicks! UNGLAUBLICH!', 'purple', 40);
                activateRadialGradientPulse();
                activateTextEffect('Chaos!', 'red', 60);
            }},
            { threshold: 100000, activated: false, effect: () => {
                triggerParticleBurst('rainbow', 500, 40); 
                spawnFloatingText('100.000 Klicks! DU BIST DER BESTE!', 'orange', 50);
                activateColorShift(document.body, 'yellow', 'lightblue');
                activateTextEffect('MAXIMALES CHAOS!', 'gold', 80);
            }}
        ];

        // 2. DOM-Elemente
        const clickCountDisplay = document.getElementById('click-count');
        const cpsDisplay = document.getElementById('cps-display');
        const clickableWindow = document.getElementById('clickable-window');
        const videoContainer = document.getElementById('video-background-container');
        const chaosCanvas = document.getElementById('chaos-canvas');
        const ctx = chaosCanvas.getContext('2d');
        let particles = [];
        let radialGradientActive = false;
        let radialGradientHue = 0;

        // Upgrade Buttons
        const upgradeButtons = {
            cursor: document.getElementById('upgrade-cursor-btn'),
            windowOptimization: document.getElementById('upgrade-window-opt-btn'),
            autoclicker: document.getElementById('upgrade-autoclick-btn'),
            clickMagnet: document.getElementById('upgrade-click-magnet-btn'),
            factory: document.getElementById('upgrade-factory-btn'),
            globalDominance: document.getElementById('upgrade-global-dominance-btn')
        };
        
        // Canvas Gr√∂√üe
        function resizeCanvas() {
            chaosCanvas.width = window.innerWidth;
            chaosCanvas.height = window.innerHeight;
        }
        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();

        // 3. Spielfunktionen
        function handleWindowClick(event) {
            clicks += clicksPerClick;
            checkAllMilestones();
            updateUI();
            createClickFeedback(event.clientX, event.clientY, `+${clicksPerClick}`);
        }
        
        function createClickFeedback(x, y, text) {
            const feedback = document.createElement('div');
            feedback.className = 'click-feedback';
            feedback.textContent = text;
            feedback.style.left = `${x}px`;
            feedback.style.top = `${y}px`;
            document.body.appendChild(feedback);
            setTimeout(() => feedback.remove(), 700);
        }

        function buyUpgrade(type) {
            const upgrade = upgrades[type];
            if (clicks >= upgrade.cost) {
                clicks -= upgrade.cost;
                upgrade.level++;
                
                if (type === 'cursor' || type === 'windowOptimization') {
                    clicksPerClick += upgrade.bonus;
                } else {
                    // CPS wird in updateCPS berechnet
                }

                upgrade.cost = Math.floor(upgrade.baseCost * Math.pow(upgrade.costMultiplier, upgrade.level));
                updateCPS();
                updateUI();
            }
        }
        
        function updateCPS() {
            let currentCPS = 0;
            currentCPS += upgrades.autoclicker.level * upgrades.autoclicker.bonus;
            currentCPS += upgrades.factory.level * upgrades.factory.bonus;
            currentCPS += upgrades.globalDominance.level * upgrades.globalDominance.bonus;
            currentCPS += upgrades.clickMagnet.level * upgrades.clickMagnet.bonus * clicksPerClick;
            clicksPerSecond = currentCPS;
        }

        function updateUI() {
            clickCountDisplay.textContent = Math.floor(clicks);
            cpsDisplay.textContent = `${Math.floor(clicksPerSecond)} CPS`;

            for (const type in upgrades) {
                const button = upgradeButtons[type];
                const upgrade = upgrades[type];
                button.querySelector('.level').textContent = `Level: ${upgrade.level}`;
                button.querySelector('.description').textContent = upgrade.description;
                button.querySelector('.cost').textContent = `Kosten: ${upgrade.cost} Klicks`;
                button.disabled = clicks < upgrade.cost;
            }
        }

        function autoClick() {
            clicks += clicksPerSecond / 10;
            checkAllMilestones();
        }
        
        function checkAllMilestones() {
            // Einmalige Meilensteine
            for (const milestone of milestones) {
                if (!milestone.activated && clicks >= milestone.threshold) {
                    milestone.activated = true;
                    milestone.effect();
                }
            }
            // Wiederholbarer 10.000 Klick Meilenstein
            const requiredSpawns = Math.floor(clicks / 10000);
            if (subwaySurfersSpawned < requiredSpawns) {
                const spawnsToCreate = requiredSpawns - subwaySurfersSpawned;
                for (let i = 0; i < spawnsToCreate; i++) {
                    spawnSubwaySurfer();
                }
                subwaySurfersSpawned = requiredSpawns;
            }
        }

        // 4. Chaos Effekte
        function spawnSubwaySurfer() {
            const gif = document.createElement('div');
            gif.className = 'subway-surfer-gif';
            // Einbettbarer GIF-Link
            gif.style.backgroundImage = `url('https://media3.giphy.com/media/v1.Y2lkPTc5MGI3NjExemFtMGhqODA1djlndGE4anFtbjIxZ3Q3a2IwYXVoYmd0MWV5MTNodiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/Fr5LA2RCQbnVp74CxH/giphy.gif')`;
            
            gif.style.left = `${Math.random() * (window.innerWidth - 300)}px`;
            gif.style.top = `${Math.random() * (window.innerHeight - 500)}px`;
            
            videoContainer.appendChild(gif);
        }

        function triggerParticleBurst(colorType = 'white', count = 50, size = 5) {
            const centerX = chaosCanvas.width / 2;
            const centerY = chaosCanvas.height / 2;
            for (let i = 0; i < count; i++) {
                let color;
                if (colorType === 'rainbow') color = `hsl(${Math.random() * 360}, 100%, 50%)`;
                else if (colorType === 'red') color = `hsl(0, 100%, ${50 + Math.random() * 30}%)`;
                else if (colorType === 'gold') color = `hsl(40, 100%, ${50 + Math.random() * 30}%)`;
                else if (colorType === 'purple') color = `hsl(270, 100%, ${50 + Math.random() * 30}%)`;
                else color = colorType;
                particles.push({
                    x: centerX, y: centerY, size: size + Math.random() * size, color: color,
                    vx: (Math.random() - 0.5) * 10, vy: (Math.random() - 0.5) * 10
                });
            }
        }

        function animateParticles() {
            ctx.clearRect(0, 0, chaosCanvas.width, chaosCanvas.height);

            if (radialGradientActive) {
                const gradient = ctx.createRadialGradient(
                    chaosCanvas.width / 2, chaosCanvas.height / 2, 0,
                    chaosCanvas.width / 2, chaosCanvas.height / 2, Math.max(chaosCanvas.width, chaosCanvas.height) / 2
                );
                radialGradientHue = (radialGradientHue + 0.5) % 360;
                gradient.addColorStop(0, `hsla(${radialGradientHue}, 100%, 70%, 0.3)`);
                gradient.addColorStop(0.5, `hsla(${(radialGradientHue + 60) % 360}, 100%, 50%, 0.2)`);
                gradient.addColorStop(1, `hsla(${(radialGradientHue + 120) % 360}, 100%, 30%, 0)`);
                ctx.fillStyle = gradient;
                ctx.fillRect(0, 0, chaosCanvas.width, chaosCanvas.height);
            }

            for (let i = 0; i < particles.length; i++) {
                const p = particles[i];
                p.x += p.vx; p.y += p.vy;
                // Partikel am Rand abprallen lassen
                if (p.x < 0 || p.x > chaosCanvas.width) p.vx *= -1;
                if (p.y < 0 || p.y > chaosCanvas.height) p.vy *= -1;

                ctx.fillStyle = p.color;
                ctx.beginPath();
                ctx.arc(p.x, p.y, p.size / 2, 0, Math.PI * 2);
                ctx.fill();
            }
            requestAnimationFrame(animateParticles);
        }

        function spawnFloatingText(text, color, fontSize) {
            const textElement = document.createElement('div');
            textElement.className = 'milestone-text';
            textElement.textContent = text;
            textElement.style.color = color;
            textElement.style.fontSize = `${fontSize}px`;
            textElement.style.left = `${Math.random() * (window.innerWidth - 300) + 100}px`;
            textElement.style.top = `${Math.random() * (window.innerHeight - 200) + 50}px`;
            document.body.appendChild(textElement);
        }

        function activateColorShift(element, startColor, endColor) {
            element.style.transition = `background-color 5s linear`;
            element.style.backgroundColor = startColor;
            setTimeout(() => { element.style.backgroundColor = endColor; }, 100);
        }

        function activateRadialGradientPulse() {
            radialGradientActive = true;
        }

        function activateTextEffect(text, color, size) { /* Bleibt leer, da Partikel und Text ausreichend sind */ }

        // 5. Event Listener & Spielstart
        clickableWindow.addEventListener('click', handleWindowClick);
        for (const type in upgradeButtons) {
            upgradeButtons[type].addEventListener('click', () => buyUpgrade(type));
        }

        setInterval(() => {
            autoClick();
            updateUI();
        }, 100);

        updateUI();
        animateParticles();
    </script>
</body>
</html>
